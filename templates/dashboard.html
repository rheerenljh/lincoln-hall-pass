{% extends "base.html" %}
{% block title %}Teacher Dashboard{% endblock %}

{% block content %}
<h1>Teacher Dashboard</h1>

<h2>Students Currently Out</h2>
<ul>
  {% for pass in passes %}
    {% if pass['Time In'] == '' %}
      <li>{{ pass['First Name'] }} {{ pass['Last Name'] }} â€” Out at {{ pass['Time Out'] }}</li>
    {% endif %}
  {% endfor %}
</ul>

<h2>Top 50 Pass Counts</h2>
<ul>
  {# Sort by count descending and limit to 50 #}
  {% for student, count in (counts.items() | sort(attribute=1, reverse=true))[:50] %}
    <li>{{ loop.index }}. {{ student }} â€” {{ count }}</li>
  {% endfor %}
</ul>

<p>
  <a href="https://docs.google.com/spreadsheets/d/13XRSp2BtNTKYNAO7w8sV6Ml_PmSFVfxyVPnVIz4zzoc/edit?gid=0#gid=0" target="_blank" rel="noopener">
    ðŸ“„ Open Google Sheet â€” HallPassTracker
  </a>
</p>

<p><a href="{{ url_for('logout') }}">Logout</a></p>
{% endblock %}
