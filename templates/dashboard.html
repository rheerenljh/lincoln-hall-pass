{% extends "base.html" %}
{% block title %}Teacher Dashboard{% endblock %}

{% block content %}
<h1>Teacher Dashboard</h1>

<h2>Students Currently Out</h2>
<ul>
  {% for pass in passes %}
    {% if pass['Time In'] == '' %}
      <li>{{ pass['First Name'] }} {{ pass['Last Name'] }} â€” Out at {{ pass['Time Out'] }}</li>
    {% endif %}
  {% endfor %}
</ul>

<h2>View All Pass Counts</h2>
<ul>
  {# Sort by count (the value in the (student, count) pair), descending #}
  {% for student, count in counts.items() | sort(attribute=1, reverse=true) %}
    <li>{{ loop.index }}. {{ student }} â€” {{ count }}</li>
  {% endfor %}
</ul>

<p>
  <a href="https://docs.google.com/spreadsheets/d/â€¦YOUR_SHEET_IDâ€¦" target="_blank" rel="noopener">ðŸ“„ Open Google Sheet â€” HallPassTracker</a>
</p>

<p><a href="{{ url_for('logout') }}">Logout</a></p>
{% endblock %}
